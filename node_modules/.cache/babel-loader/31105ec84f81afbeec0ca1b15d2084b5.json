{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\New folder (6)\\\\FYP\\\\Fyp-Final\\\\src\\\\components\\\\forms\\\\FormLogin.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Form.css';\n\nfunction store(data) {\n  //console.log(data);\n  localStorage.setItem('Token', data.token); // localStorage.removeItem(\"Token\");\n  // console.log(localStorage.getItem('Token'));\n\n  localStorage.setItem('Username', data.username);\n}\n\nfunction sleep(milliseconds) {\n  const date = Date.now();\n  let currentDate = null;\n\n  do {\n    currentDate = Date.now();\n  } while (currentDate - date < milliseconds);\n}\n\nasync function loginUser(credentials) {\n  console.log(credentials);\n  fetch(\"http://localhost:9000/users/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    },\n    body: JSON.stringify(credentials)\n  }).then(res => {\n    return res.json();\n  }).then(data => store(data)).catch(error => console.log('ERROR'));\n}\n\nfunction FormLogin() {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await loginUser({\n      username,\n      password\n    });\n    var t = localStorage.getItem('Username');\n\n    if (username === t) {\n      sleep(1000);\n      window.location.reload();\n    } // var tok =localStorage.getItem('Token');\n    //  console.log(tok);\n    //localStorage.removeItem(\"Token\"); to remove token value\n    //  if(tok!==null)\n    //  window.location.reload();\n\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"close-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-content-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"form-img\",\n    src: \"img/img-2.svg\",\n    alt: \"spaceship\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-content-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form\",\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Get started with us today!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Enter your username\",\n    onChange: e => setUserName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter your password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"form-input-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-input-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"./sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 34\n    }\n  }, \"Signup\"))))));\n}\n\n;\nexport default FormLogin;","map":{"version":3,"sources":["C:/Users/hp/Desktop/New folder (6)/FYP/Fyp-Final/src/components/forms/FormLogin.js"],"names":["React","useState","Link","store","data","localStorage","setItem","token","username","sleep","milliseconds","date","Date","now","currentDate","loginUser","credentials","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","catch","error","FormLogin","setUserName","password","setPassword","handleSubmit","e","preventDefault","t","getItem","window","location","reload","target","value"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport './Form.css';\r\nfunction store(data){\r\n  //console.log(data);\r\n  localStorage.setItem('Token', data.token);\r\n  // localStorage.removeItem(\"Token\");\r\n  // console.log(localStorage.getItem('Token'));\r\n  localStorage.setItem('Username',data.username);\r\n}\r\nfunction sleep(milliseconds) {\r\n  const date = Date.now();\r\n  let currentDate = null;\r\n  do {\r\n    currentDate = Date.now();\r\n  } while (currentDate - date < milliseconds);\r\n}\r\nasync function loginUser(credentials) {\r\n  console.log(credentials)\r\n  \r\n   fetch(\"http://localhost:9000/users/login\", {\r\n      method: \"POST\",   \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    }).then(res=>{\r\n      return res.json()\r\n    }).then(data=>store(data))    \r\n    .catch(error=>console.log('ERROR'));\r\n    \r\n}\r\n\r\n \r\nfunction FormLogin(){\r\n \r\n\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    await loginUser({\r\n      username,\r\n      password\r\n    });\r\n    var t =localStorage.getItem('Username');\r\n   \r\n    if(username===t){\r\n      sleep(1000);\r\n      window.location.reload();\r\n  }\r\n\r\n      // var tok =localStorage.getItem('Token');\r\n    //  console.log(tok);\r\n\r\n     //localStorage.removeItem(\"Token\"); to remove token value\r\n    //  if(tok!==null)\r\n    //  window.location.reload();\r\n  }\r\n\r\n \r\n  return (\r\n    <div> <div className='form-container'>\r\n    <span className='close-btn'>×</span>\r\n    <div className='form-content-left'>\r\n      <img className='form-img' src='img/img-2.svg' alt='spaceship' />\r\n    </div>\r\n    <div className='form-content-right'>\r\n      <form onSubmit={handleSubmit} className='form' noValidate>\r\n        <h1>\r\n          Get started with us today!\r\n        </h1>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Username</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='username'\r\n            placeholder='Enter your username'\r\n            onChange={e => setUserName(e.target.value)}            \r\n          />          \r\n        </div>        \r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Password</label>\r\n          <input\r\n            className='form-input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter your password'\r\n            onChange={e => setPassword(e.target.value)}         \r\n          />          \r\n        </div>        \r\n        <button className='form-input-btn' type='submit'>\r\n          Login\r\n        </button>\r\n        <span className='form-input-login'>\r\n          Don't have an account? <Link to='./sign-up'>Signup</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  </div>\r\n   \r\n  );\r\n};\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}