{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\New folder (6)\\\\FYP\\\\Fyp-Final\\\\src\\\\components\\\\forms\\\\FormLogin.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Form.css';\n\nfunction store(data) {\n  //console.log(data);\n  localStorage.setItem('Token', data.token);\n  localStorage.removeItem(\"Token\");\n  console.log(localStorage.getItem('Token'));\n  localStorage.setItem('Username', data.username);\n}\n\nasync function loginUser(credentials) {\n  console.log(credentials);\n  fetch(\"http://localhost:9000/users/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    },\n    body: JSON.stringify(credentials)\n  }).then(res => {\n    return res.json();\n  }).then(data => store(data)).catch(error => console.log('ERROR'));\n}\n\nfunction FormLogin() {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await loginUser({\n      username,\n      password\n    }); //  var tok =localStorage.getItem('Token');\n    //  console.log(tok);\n    //localStorage.removeItem(\"Token\"); to remove token value\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"close-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-content-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"form-img\",\n    src: \"img/img-2.svg\",\n    alt: \"spaceship\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-content-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form\",\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Get started with us today!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Enter your username\",\n    onChange: e => setUserName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter your password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"form-input-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-input-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"./sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 34\n    }\n  }, \"Signup\"))))));\n}\n\n;\nexport default FormLogin;","map":{"version":3,"sources":["C:/Users/hp/Desktop/New folder (6)/FYP/Fyp-Final/src/components/forms/FormLogin.js"],"names":["React","useState","Link","store","data","localStorage","setItem","token","removeItem","console","log","getItem","username","loginUser","credentials","fetch","method","headers","body","JSON","stringify","then","res","json","catch","error","FormLogin","setUserName","password","setPassword","handleSubmit","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React,{useState} from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './Form.css';\r\nfunction store(data){\r\n  //console.log(data);\r\n  localStorage.setItem('Token', data.token);\r\n  localStorage.removeItem(\"Token\");\r\n  console.log(localStorage.getItem('Token'));\r\n  localStorage.setItem('Username',data.username);\r\n}\r\nasync function loginUser(credentials) {\r\n  console.log(credentials)\r\n  \r\n   fetch(\"http://localhost:9000/users/login\", {\r\n      method: \"POST\",   \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    }).then(res=>{\r\n      return res.json()\r\n    }).then(data=>store(data))    \r\n    .catch(error=>console.log('ERROR'));\r\n}\r\n\r\n \r\nfunction FormLogin(){\r\n\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    await loginUser({\r\n      username,\r\n      password\r\n    });\r\n\r\n    //  var tok =localStorage.getItem('Token');\r\n    //  console.log(tok);\r\n\r\n     //localStorage.removeItem(\"Token\"); to remove token value\r\n  }\r\n\r\n \r\n  return (\r\n    <div> <div className='form-container'>\r\n    <span className='close-btn'>Ã—</span>\r\n    <div className='form-content-left'>\r\n      <img className='form-img' src='img/img-2.svg' alt='spaceship' />\r\n    </div>\r\n    <div className='form-content-right'>\r\n      <form onSubmit={handleSubmit} className='form' noValidate>\r\n        <h1>\r\n          Get started with us today!\r\n        </h1>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Username</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='username'\r\n            placeholder='Enter your username'\r\n            onChange={e => setUserName(e.target.value)}            \r\n          />          \r\n        </div>        \r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Password</label>\r\n          <input\r\n            className='form-input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter your password'\r\n            onChange={e => setPassword(e.target.value)}         \r\n          />          \r\n        </div>        \r\n        <button className='form-input-btn' type='submit'>\r\n          Login\r\n        </button>\r\n        <span className='form-input-login'>\r\n          Don't have an account? <Link to='./sign-up'>Signup</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  </div>\r\n   \r\n  );\r\n};\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}