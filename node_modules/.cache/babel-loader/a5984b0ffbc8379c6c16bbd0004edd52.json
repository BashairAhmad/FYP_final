{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\New folder (6)\\\\FYP\\\\Fyp-Final\\\\src\\\\components\\\\forms\\\\FormLogin.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Form.css';\n\nasync function loginUser(credentials) {\n  console.log(credentials);\n  localStorage.removeItem(\"Token\");\n  fetch(\"http://localhost:9000/users/login\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Accept\": \"application/json\"\n    },\n    body: JSON.stringify(credentials)\n  }).then(res => {\n    return res.json();\n  }).then(data => localStorage.setItem('Token', data.token)).catch(error => console.log('ERROR'));\n}\n\nfunction FormLogin() {\n  const [username, setUserName] = useState();\n  const [password, setPassword] = useState();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    await loginUser({\n      username,\n      password\n    });\n    var tok = localStorage.getItem('Token');\n    console.log(tok); //localStorage.removeItem(\"Token\"); to remove token value\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"close-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, \"\\xD7\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-content-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"form-img\",\n    src: \"img/img-2.svg\",\n    alt: \"spaceship\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-content-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"form\",\n    noValidate: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Get started with us today!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Enter your username\",\n    onChange: e => setUserName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-input\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter your password\",\n    onChange: e => setPassword(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"form-input-btn\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-input-login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: \"./sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 34\n    }\n  }, \"Signup\"))))));\n}\n\n;\nexport default FormLogin;","map":{"version":3,"sources":["C:/Users/hp/Desktop/New folder (6)/FYP/Fyp-Final/src/components/forms/FormLogin.js"],"names":["React","useState","Link","loginUser","credentials","console","log","localStorage","removeItem","fetch","method","headers","body","JSON","stringify","then","res","json","data","setItem","token","catch","error","FormLogin","username","setUserName","password","setPassword","handleSubmit","e","preventDefault","tok","getItem","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,YAAP;;AACA,eAAeC,SAAf,CAAyBC,WAAzB,EAAsC;AACpCC,EAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACAG,EAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACCC,EAAAA,KAAK,CAAC,mCAAD,EAAsC;AACxCC,IAAAA,MAAM,EAAE,MADgC;AAExCC,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,gBAAU;AAFH,KAF+B;AAMxCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeV,WAAf;AANkC,GAAtC,CAAL,CAOIW,IAPJ,CAOSC,GAAG,IAAE;AACX,WAAOA,GAAG,CAACC,IAAJ,EAAP;AACD,GATF,EASIF,IATJ,CASSG,IAAI,IAAEX,YAAY,CAACY,OAAb,CAAqB,OAArB,EAA8BD,IAAI,CAACE,KAAnC,CATf,EAUEC,KAVF,CAUQC,KAAK,IAAEjB,OAAO,CAACC,GAAR,CAAY,OAAZ,CAVf;AAWF;;AAGD,SAASiB,SAAT,GAAoB;AAElB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BxB,QAAQ,EAAxC;AACA,QAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,EAAxC;;AAEA,QAAM2B,YAAY,GAAG,MAAMC,CAAN,IAAW;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM3B,SAAS,CAAC;AACdqB,MAAAA,QADc;AAEdE,MAAAA;AAFc,KAAD,CAAf;AAKC,QAAIK,GAAG,GAAExB,YAAY,CAACyB,OAAb,CAAqB,OAArB,CAAT;AACA3B,IAAAA,OAAO,CAACC,GAAR,CAAYyB,GAAZ,EAR6B,CAU7B;AACF,GAXD;;AAcA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAM;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACN;AAAM,IAAA,SAAS,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADM,eAEN;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAA0B,IAAA,GAAG,EAAC,eAA9B;AAA8C,IAAA,GAAG,EAAC,WAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFM,eAKN;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEH,YAAhB;AAA8B,IAAA,SAAS,EAAC,MAAxC;AAA+C,IAAA,UAAU,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAIE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,WAAW,EAAC,qBAJd;AAKE,IAAA,QAAQ,EAAEC,CAAC,IAAIJ,WAAW,CAACI,CAAC,CAACI,MAAF,CAASC,KAAV,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAJF,eAcE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,WAAW,EAAC,qBAJd;AAKE,IAAA,QAAQ,EAAEL,CAAC,IAAIF,WAAW,CAACE,CAAC,CAACI,MAAF,CAASC,KAAV,CAL5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAdF,eAwBE;AAAQ,IAAA,SAAS,EAAC,gBAAlB;AAAmC,IAAA,IAAI,EAAC,QAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAxBF,eA2BE;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACyB,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADzB,CA3BF,CADF,CALM,CAAN,CADF;AA2CD;;AAAA;AAED,eAAeX,SAAf","sourcesContent":["import React,{useState} from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport './Form.css';\r\nasync function loginUser(credentials) {\r\n  console.log(credentials)\r\n  localStorage.removeItem(\"Token\")\r\n   fetch(\"http://localhost:9000/users/login\", {\r\n      method: \"POST\",   \r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Accept\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    }).then(res=>{\r\n      return res.json()\r\n    }).then(data=>localStorage.setItem('Token', data.token))\r\n    .catch(error=>console.log('ERROR'));\r\n}\r\n\r\n \r\nfunction FormLogin(){\r\n\r\n  const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    await loginUser({\r\n      username,\r\n      password\r\n    });\r\n\r\n     var tok =localStorage.getItem('Token');\r\n     console.log(tok);\r\n\r\n     //localStorage.removeItem(\"Token\"); to remove token value\r\n  }\r\n\r\n \r\n  return (\r\n    <div> <div className='form-container'>\r\n    <span className='close-btn'>Ã—</span>\r\n    <div className='form-content-left'>\r\n      <img className='form-img' src='img/img-2.svg' alt='spaceship' />\r\n    </div>\r\n    <div className='form-content-right'>\r\n      <form onSubmit={handleSubmit} className='form' noValidate>\r\n        <h1>\r\n          Get started with us today!\r\n        </h1>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Username</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='username'\r\n            placeholder='Enter your username'\r\n            onChange={e => setUserName(e.target.value)}            \r\n          />          \r\n        </div>        \r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Password</label>\r\n          <input\r\n            className='form-input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter your password'\r\n            onChange={e => setPassword(e.target.value)}         \r\n          />          \r\n        </div>        \r\n        <button className='form-input-btn' type='submit'>\r\n          Login\r\n        </button>\r\n        <span className='form-input-login'>\r\n          Don't have an account? <Link to='./sign-up'>Signup</Link>\r\n        </span>\r\n      </form>\r\n    </div>\r\n  </div>\r\n  </div>\r\n   \r\n  );\r\n};\r\n\r\nexport default FormLogin;"]},"metadata":{},"sourceType":"module"}